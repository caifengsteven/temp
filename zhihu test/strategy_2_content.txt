SF12R e | 全新波动率算法，自适应区间+波动率择时(新高)
已关注
来自专栏 · SF策略
1 人赞同了该文章 
公号：松鼠Quant 量化交易知识分享
松鼠Quant
工具推荐
·
摘要：
通常计算波动率的方式有很多种，最最最常用的便是 ATR，只要说到波动率的计算第一反应
便是A TR指标。难道除了使用A TR计算波动率没有其他的方式了吗？今天我们推出 SF12策略
，SF12基于全新方式计算波动率，构建交易系统；
策略结构：
1.核心指标计算；
2.计算波动比率；· 参数筛选工具
mp.w eixin.qq.com/s?__biz=MjM5MzE5NzUxNw==&m …
Ai帮你编写策略
mp.w eixin.qq.com/s?__biz=MjM5MzE5NzUxNw==&m …
· 订单流图表
mp.w eixin.qq.com/s?__biz=MjM5MzE5NzUxNw==&m …
· 加入2025俱乐部
mp.w eixin.qq.com/s?__biz=MjM5MzE5NzUxNw==&m …
· Ai投研助手课程
mp.w eixin.qq.com/s?__biz=MjM5MzE5NzUxNw==&m …
赞同 1   2 条评论  喜欢  收藏  申请转载  分享  SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 1/9
3.构建自适应区间；
4.波动率择时模块；
5.开平仓模块；
策略原理：
1.使用全新波动率算法统计不同维度的波动幅度，计算出各自波动率，这一步完成，我们可以
构建出自适应区间。
2.得到了波动率之后，我们还需在计算 波动率比率 ，通过波动率比率构建行情择时模块；
3.开仓采用次根BAR进场；
4.平仓采用移动收敛型止盈止损；
SF12策略的重点在于全新的波动率算法，而不像以往只有A TR一种选择。同时，还使用波动
率比率引入择时选择的概念，
策略概述
SF12_RE（R emast ered Edition）是一种改进版的 趋势跟踪交易策略 ，它通过动态调整交易
区间来适应不同市场波动环境。该策略的核心优势在于：
1. 智能区间调整 ：根据市场波动率自动选择宽窄交易区间
2. 多周期分析 ：同时考虑短期和中期价格波动特征
3. 严格风险管理 ：采用动态跟踪止损机制
4. 自适应机制 ：能自动适应不同品种和不同市场环境
数学原理
短期周期(R1)极值 ：
中期周期(R2=2×R1)极值 ：
归一化波动率指标 ：
区间选择逻辑 ：SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 2/9
代码实现
1.极值点定位
// 定位R1 周期内的最高点
Integer Locate_H1()
{
    H1 = H[1];
    H1_Bar = CurrentBar -1;
                for i = 2 To R1
    {
        If(H[i] > H1)
        {
            H1 = H[i];
            H1_Bar = CurrentBar - i;
        }
    }
    Return 1;
}
// 定位R1 周期内的最低点 Integer Locate_L1()
{
    L1 = L[1];
    L1_Bar = CurrentBar -1;
    For i =2 To R1
    {
        If(L[i] < L1)
        {
            L1 = L[i];
            L1_Bar = CurrentBar - i;
        }
    }
    Return 1;
}
2.波动率指标计算
// 定位R1 周期内的最高点
Integer Locate_H1()
{
    H1 = H[1];
    H1_Bar = CurrentBar -1;
                for i = 2 To R1
    { 
       If(H[i] > H1)
        {SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 3/9
            H1 = H[i]; 
           H1_Bar = CurrentBar - i; 
       }
    }
    Return 1;
}// 定位 R1 周期内的最低点 Integer Locate_L1()
{
    L1 = L[1];
    L1_Bar = CurrentBar -1;
    For i =2 To R1 
   { 
       If(L[i] < L1) 
       {
            L1 = L[i];
            L1_Bar = CurrentBar - i;
        } 
   }
    Return 1;
}
3.自适应区间选择
// 自适应区间选择
If(condtion_filter[1]) 
{
    H_MAX = HL + avgNTD * X; 
   L_MIN = HL - avgNTD * X;}Else
{
    H_MAX = H1; 
   L_MIN = L1; 
               }
策略优势分析
1. 自适应市场环境 ：通过N1/N2比率自动识别高低波动市场，调整交易区间宽度
2. 多周期验证 ：结合R1(短期)和R2(中期)两个周期的波动特征，提高信号可靠性
3. 动态风险控制 ：
•  初始止损：基于突破区间的反向突破
•  跟踪止损：随盈利增长逐步收紧
1. 参数灵活性 ：
•  R1：控制短期波动观察周期(默认45)
•  X：调整区间宽度系数(默认0.5)
•  TrailingS topRat e：控制止损松紧度(默认80)
1. 资金管理 ：根据账户资金自动计算合理仓位SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 4/9
42个品种综合绩效：
关于作者
松鼠Quant  
公号：松鼠Quant 量
AI创新屋 、宽客与人生 、Cha
注了他
回答
354文章
347关
11
已关注  发SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 5/9
豆1：
棉花：SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 6/9
玉米：
EC：
玻璃：
SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 7/9
所属专栏 · 2025-06-09 16:49 更新热卷：
IM：
棕榈：
SF12_RE是一种基于波动率自适应区间的智能趋势跟踪策略，通过动态计算短期(R1)和中期
(R2)价格极值构建双重波动率指标(NTD1/NTD2)，根据市场波动状态自动切换宽窄交易区间
（高波动时采用动态通道，低波动时采用固定极值），配合动态跟踪止损机制实现 "让利润奔
跑、截断亏损" 的交易理念。该策略具有参数灵活、自适应强、多周期验证等特点，特别适合
的期货市场，能有效捕捉趋势行情的同时严格控制回撤风险。
PS：42个品种较多，就不一一截图了。这个是24年8月重制版本，已有的小伙伴不需找小松
鼠重复领取了。SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 8/9
订阅
最热内容  ·SF14 | Super trend“超级趋势线”指标魔改升级(源码)
发布于 2025-06-03 16:26 ・山西
SF策略
松鼠Quant
53 篇内容 · 230 赞同
量化交易 交易策略 期货
理性发言，友善互动
2 条评论 默认 最新
谢谢分享，Mark。
06-06  · 江西  回复  喜欢
06-09  · 山西  回复  喜欢
ryzhxx
松鼠Quant 作者
推荐阅读
SF12 | 全新波动率算法，自适
应区间+波动率择时！
致力于分享量化策略，培训视频，
Python，算法研究等相关内容。 摘
要： 通常计算波动率的方式有很多
种，最最最常用的便是A TR，只要
说到波动率的计算第一反应便是
ATR指标。难道除了使用A TR计…
松鼠Quant
交易“关键词”之 波动率
trader依旧
逆天改命——波动率突破交易
系统策略以及滚仓交易法与滚 …
郑多多SF12R e | 全新波动率算法，自适应区间+波动率择时( …首发于
SF策略2025/6/22 晚上 7:57 (99+ 封私信  / 27 条消息 ) SF12Re | 全新波动率算法，⾃适应区间 + 波动率择时 ( 新⾼ ) - 知乎
https://zhuanlan.zhihu.com/p/1913257930821702077 9/9
